@model GoogleReCaptcha.Examples.Mvc.Models.HomeModel
@addTagHelper GoogleReCaptcha.Core.Mvc.TagHelpers.SubmitButtonTagHelper, GoogleReCaptcha.Core

@{
	ViewData["Title"] = "Explicit Render V2";
}

@section Scripts {
	@await Html.PartialAsync("_ValidationScriptsPartial")

	@* Google ReCaptcha v2 Script *@
	<script type="text/javascript">
		var onloadCallback = function () {
			console.log('Google reCAPTCHA loaded');
			grecaptcha.render('myRecaptchaWidget', {
				'sitekey': '@Html.ReCaptchaV2SiteKey()',
				'theme': '@Html.ReCaptchaV2Theme()',
				'size': '@Html.ReCaptchaV2Size()'
			});
		}
	</script>
	<g-recaptcha-script g-recaptcha-explicit="true"></g-recaptcha-script>
}

<h1>ReCapthca v2 Explicit Render Example, MVC</h1>

<form id="captchaedForm" asp-antiforgery="true" method="post">

	@if (!string.IsNullOrEmpty(ViewBag.ErrorMsg))
	{
		<div class="alert alert-danger" role="alert">
			@ViewBag.ErrorMsg
		</div>
	}
	<div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert">
		<span>Please correct the following form issues:</span>
	</div>

	<div class="form-group row">
		<label asp-for="Name" class="col-sm-2 col-xxl-1 col-form-label font-weight-bold">Name</label>
		<div class="col-sm-10 col-xxl-11">
			<input asp-for="Name" type="text" class="form-control" placeholder="Name..." autocomplete="off" />
			<span asp-validation-for="Name" class="form-text alert alert-danger m-0 mt-2"></span>
		</div>
	</div>

	<div class="form-group row">
		<label asp-for="Age" class="col-sm-2 col-xxl-1 col-form-label font-weight-bold">Age</label>
		<div class="col-sm-10 col-xxl-11">
			<input asp-for="Age" type="text" class="form-control" placeholder="Age..." autocomplete="off" />
			<span asp-validation-for="Age" class="form-text alert alert-danger m-0 mt-2"></span>
		</div>
	</div>

	<div class="offset-sm-2 offset-xxl-1 pl-1">
		@* Google ReCaptcha v2 Widget *@
		<div id="myRecaptchaWidget"></div>
		<button class="btn btn-primary">Submit</button>
	</div>

</form>